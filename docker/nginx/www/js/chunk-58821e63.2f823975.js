(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58821e63"],{1672:function(e,t,a){},"214f":function(e,t,a){"use strict";var r=a("32e9"),i=a("2aba"),n=a("79e5"),l=a("be13"),o=a("2b4c");e.exports=function(e,t,a){var s=o(e),u=a(l,s,""[e]),c=u[0],d=u[1];n(function(){var t={};return t[s]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,c),r(RegExp.prototype,s,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},2825:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"z-table"},[a("div",{staticClass:"funcs"},[e._l(e.funcs,function(t){return a("el-button",{key:t,attrs:{type:"删除"===t?"danger":"default"},on:{click:function(a){e.func(t)}}},[e._v(e._s(t))])}),a("el-button",{on:{click:function(t){e.func("导出")}}},[e._v("导出")])],2),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._l(e.tableColumns,function(t){return a("el-table-column",{key:t.value,attrs:{label:t.label,width:t.width,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(r){return t.mul?void 0:[t.formatter?a("div",{domProps:{innerHTML:e._s(t.formatter(r.row))}}):a("div",[e._v("\n          "+e._s(r.row[t.value])+"\n        ")])]}}])},e._l(t.subColumns,function(r){return t.mul?a("el-table-column",{key:r.value,attrs:{label:r.label,width:r.width,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r.formatter?a("div",{domProps:{innerHTML:e._s(r.formatter(t.row))}}):a("div",[e._v("\n            "+e._s(t.row[r.value])+"\n          ")])]}}])}):e._e()}))}),e.btns.length>0?a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.btns,function(r){return a("el-button",{key:r,attrs:{type:"text",size:"small"},on:{click:function(a){e.btnClick(t.row,r)}}},[e._v(e._s(r))])})}}])}):e._e()],2),a("el-pagination",{attrs:{"current-page":e.page.currentPage,background:"","page-size":10,layout:"prev, pager, next",total:e.page.total},on:{"current-change":e.handleCurrentChange}})],1)},i=[],n={props:{tableData:{type:Array,default:function(){return[{name:"zzq"}]}},tableColumns:{type:Array,default:function(){return[{label:"姓名",value:"name"}]}},page:{type:Object,default:function(){return{currentPage:1,total:0}}},funcs:{type:Array,default:function(){return["新增"]}},btns:{type:Array,default:function(){return[]}}},methods:{handleSelectionChange:function(e){this.multipleSelection=e},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)},func:function(e){if("新增"===e||"打印表格"===e||"导出"===e)this.$emit("func",{opera:e,row:this.multipleSelection});else if("删除"===e){if(!this.multipleSelection)return void this.$message({message:"请至少选择一项进行操作",type:"warning"});this.$emit("func",{opera:e,row:this.multipleSelection})}else{if(!this.multipleSelection||0===this.multipleSelection.length||this.multipleSelection.length>1)return void this.$message({message:"请选择一项进行操作",type:"warning"});this.$emit("func",{opera:e,row:this.multipleSelection[0]})}},btnClick:function(e,t){this.$emit("btnClick",{opera:t,row:e})}}},l=n,o=(a("434f"),a("2877")),s=Object(o["a"])(l,r,i,!1,null,"ba8434ec",null);s.options.__file="z-table.vue";t["a"]=s.exports},"28a5":function(e,t,a){a("214f")("split",2,function(e,t,r){"use strict";var i=a("aae3"),n=r,l=[].push,o="split",s="length",u="lastIndex";if("c"=="abbc"[o](/(b)*/)[1]||4!="test"[o](/(?:)/,-1)[s]||2!="ab"[o](/(?:ab)*/)[s]||4!="."[o](/(.?)(.?)/)[s]||"."[o](/()()/)[s]>1||""[o](/.?/)[s]){var c=void 0===/()??/.exec("")[1];r=function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!i(e))return n.call(a,e,t);var r,o,d,f,p,m=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,b=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,h+"g");c||(r=new RegExp("^"+v.source+"$(?!\\s)",h));while(o=v.exec(a)){if(d=o.index+o[0][s],d>g&&(m.push(a.slice(g,o.index)),!c&&o[s]>1&&o[0].replace(r,function(){for(p=1;p<arguments[s]-2;p++)void 0===arguments[p]&&(o[p]=void 0)}),o[s]>1&&o.index<a[s]&&l.apply(m,o.slice(1)),f=o[0][s],g=d,m[s]>=b))break;v[u]===o.index&&v[u]++}return g===a[s]?!f&&v.test("")||m.push(""):m.push(a.slice(g)),m[s]>b?m.slice(0,b):m}}else"0"[o](void 0,0)[s]&&(r=function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)});return[function(a,i){var n=e(this),l=void 0==a?void 0:a[t];return void 0!==l?l.call(a,n,i):r.call(String(n),a,i)},r]})},4197:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("z-search",{attrs:{searchItems:e.searchItems},on:{search:e.search}}),a("z-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{tableData:e.tableData,tableColumns:e.tableColumns,page:e.page,btns:["错误详情"],funcs:e.funcs},on:{btnClick:e.btnClick,func:e.func,handleCurrentChange:e.handleCurrentChange}}),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.dialogData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"请求URL:",prop:"reqUrl"}},[a("el-input",{model:{value:e.dialogData.reqUrl,callback:function(t){e.$set(e.dialogData,"reqUrl",t)},expression:"dialogData.reqUrl"}})],1),a("el-form-item",{attrs:{label:"请求方式:",prop:"reqType"}},[a("el-input",{model:{value:e.dialogData.reqType,callback:function(t){e.$set(e.dialogData,"reqType",t)},expression:"dialogData.reqType"}})],1),a("el-form-item",{attrs:{label:"请求参数:",prop:"reqParam"}},[a("el-input",{model:{value:e.dialogData.reqParam,callback:function(t){e.$set(e.dialogData,"reqParam",t)},expression:"dialogData.reqParam"}})],1),a("el-form-item",{attrs:{label:"请求ip:",prop:"ip"}},[a("el-input",{model:{value:e.dialogData.ip,callback:function(t){e.$set(e.dialogData,"ip",t)},expression:"dialogData.ip"}})],1),a("el-form-item",{attrs:{label:"用户代理:",prop:"userAgent"}},[a("el-input",{model:{value:e.dialogData.userAgent,callback:function(t){e.$set(e.dialogData,"userAgent",t)},expression:"dialogData.userAgent"}})],1),a("el-form-item",{attrs:{label:"异常信息:",prop:"errorInfo"}},[a("el-input",{model:{value:e.dialogData.errorInfo,callback:function(t){e.$set(e.dialogData,"errorInfo",t)},expression:"dialogData.errorInfo"}})],1),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dialogData.startTime,callback:function(t){e.$set(e.dialogData,"startTime",t)},expression:"dialogData.startTime"}})],1),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dialogData.endTime,callback:function(t){e.$set(e.dialogData,"endTime",t)},expression:"dialogData.endTime"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),a("el-dialog",{staticStyle:{"word-wrap":"break-word"},attrs:{title:"错误详情",visible:e.errorDialog.visible,width:"80%"},on:{"update:visible":function(t){e.$set(e.errorDialog,"visible",t)}}},[e._v("\n    "+e._s(e.errorDialog.info)+"\n  ")])],1)},i=[],n=a("be94"),l=(a("cadf"),a("551c"),a("097d"),a("2825")),o=a("6592"),s=a("ffc1");function u(e){return Object(s["a"])({url:"/errorLogs",method:"post",data:e})}function c(e){return Object(s["a"])({url:"/errorLogs/",method:"post",data:e})}function d(e){var t=e.id,a=e.data;return Object(s["a"])({url:"/errorLogs/".concat(t),method:"put",data:a})}function f(e){var t=e.id;return Object(s["a"])({url:"/errorLogs/".concat(t),method:"delete"})}var p=[{label:"请求URL",value:"reqUrl",type:"input",placeholder:"请求URL"},{label:"请求方式",value:"reqType",type:"input",placeholder:"请求方式"},{label:"请求参数",value:"reqParam",type:"input",placeholder:"请求参数"},{label:"请求ip",value:"ip",type:"input",placeholder:"请求ip"},{label:"用户代理",value:"userAgent",type:"input",placeholder:"用户代理"},{label:"异常信息",value:"errorInfo",type:"input",placeholder:"异常信息"},{label:"开始时间",value:"startTime",type:"datetime"},{label:"结束时间",value:"endTime",type:"datetime"}],m=[{label:"请求URL",value:"reqUrl"},{label:"请求方式",value:"reqType"},{label:"请求参数",value:"reqParam"},{label:"请求ip",value:"ip"},{label:"用户代理",value:"userAgent"},{label:"异常信息",value:"errorInfo"},{label:"创建时间",value:"createTime"}],h=a("8b55"),g={data:function(){return{tableData:[],page:{total:0,currentPage:1},tableColumns:m,searchItems:p,tableLoading:!1,btnLoading:!1,searchForm:{},dialogTitle:"新增",dialogVisible:!1,labelWidth:"100px",dialogData:{schemalist:[]},allDev:[],errorDialog:{visible:!1,info:null}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.tableLoading=!0;var t=Object(n["a"])({page:this.page.currentPage},this.searchForm);u(t).then(function(t){e.tableLoading=!1,e.tableData=t.datas.list,e.page.total=t.datas.itemCounts})},search:function(e){console.log(e),this.page.currentPage=1,this.searchForm=e,this.getList()},btnClick:function(e){var t=e.opera,a=e.row;switch(console.log(t,a),t){case"错误详情":this.errorInfo(a);break}},errorInfo:function(e){this.errorDialog.visible=!0,this.errorDialog.info=e.errorInfo},func:function(e){var t=e.opera,a=e.row;switch(t){case"修改":this.edit(a);break;case"新增":this.add();break;case"删除":this.del(a);break}},add:function(){this.dialogTitle="新增",this.dialogData={},this.dialogVisible=!0},edit:function(e){this.dialogTitle="编辑",this.dialogData=Object(n["a"])({},e),this.dialogVisible=!0},del:function(e){var t=this;e=e.map(function(e){return e.id}),this.$confirm("此操作将永久删除所选数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){f({id:e}).then(function(e){console.log("shanchu "),t.$message({message:0===e.ret?"删除成功":e.msg,type:0===e.ret?"success":"error"}),t.getList()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleCurrentChange:function(e){this.page.currentPage=e,this.getList()},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t.dialogData;"编辑"===t.dialogTitle?d({id:t.dialogData.id,data:Object(n["a"])({},t.dialogData)}).then(function(e){0==e.ret?(t.$message({message:"修改成功",type:"success"}),t.dialogVisible=!1,t.getList()):t.$message({message:e.msg,type:"error"})}):"新增"===t.dialogTitle&&c(a).then(function(e){0==e.ret?(t.$message({message:"新增成功",type:"success"}),t.dialogVisible=!1,t.getList()):t.$message({message:e.msg,type:"error"})})})}},computed:{funcs:function(){return h["b"](this.$route,this.$store.state.auth.menus)}},components:{ZTable:l["a"],ZSearch:o["a"]}},b=g,v=(a("bca0"),a("2877")),y=Object(v["a"])(b,r,i,!1,null,"3b41f984",null);y.options.__file="errorLog.vue";t["default"]=y.exports},"434f":function(e,t,a){"use strict";var r=a("1672"),i=a.n(r);i.a},6592:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[e._l(e.searchItems,function(t){return a("el-form-item",{key:t.value,attrs:{label:t.label+"："}},["input"===t.type?a("el-input",{attrs:{placeholder:t.placeholder},model:{value:e.searchForm[t.value],callback:function(a){e.$set(e.searchForm,t.value,a)},expression:"searchForm[item.value]"}}):e._e(),"select"===t.type?a("el-select",{attrs:{placeholder:t.placeholder},model:{value:e.searchForm[t.value],callback:function(a){e.$set(e.searchForm,t.value,a)},expression:"searchForm[item.value]"}},e._l(t.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})):e._e(),"datetimerange"===t.type?a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp"},model:{value:e.searchForm[t.value],callback:function(a){e.$set(e.searchForm,t.value,a)},expression:"searchForm[item.value]"}}):e._e(),"datetime"===t.type?a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.searchForm[t.value],callback:function(a){e.$set(e.searchForm,t.value,a)},expression:"searchForm[item.value]"}}):e._e()],1)}),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],2)},i=[],n=a("be94"),l={props:{searchItems:{type:Array,default:function(){return[{label:"名称",value:"name",width:100,type:"input"}]}}},data:function(){return{searchForm:{}}},methods:{search:function(){this.$emit("search",Object(n["a"])({},this.searchForm))}}},o=l,s=(a("7854"),a("2877")),u=Object(s["a"])(o,r,i,!1,null,"11d0c8dd",null);u.options.__file="z-search.vue";t["a"]=u.exports},7854:function(e,t,a){"use strict";var r=a("d20a"),i=a.n(r);i.a},"7f7f":function(e,t,a){var r=a("86cc").f,i=Function.prototype,n=/^\s*function ([^ (]*)/,l="name";l in i||a("9e1e")&&r(i,l,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(e){return""}}})},"8b55":function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return i});a("7f7f"),a("28a5"),a("ac6a");var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"deptId",a=e.reduce(function(e,t){return e>t.parentId?t.parentId:e},100);return console.log("minNum",a),e.forEach(function(r){var i=r.parentId;i===a||e.forEach(function(e){if(e[t]===i){var a=e.children;a||(a=[]),a.push(r),e.children=a}})}),e=e.filter(function(e){return e.parentId===a}),e},i=function(e,t){var a=null,r=e.fullPath.split("/");return r.splice(0,2),t.map(function(e){e.url===r[0]&&0===e.childType?a=e.list.map(function(e){return e.name}):e.url===r[0]&&1===e.childType&&e.list.map(function(e){e.url===r[1]&&(a=e.list.map(function(e){return e.name}))})}),a}},"8f1f":function(e,t,a){},aae3:function(e,t,a){var r=a("d3f4"),i=a("2d95"),n=a("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==i(e))}},ac6a:function(e,t,a){for(var r=a("cadf"),i=a("0d58"),n=a("2aba"),l=a("7726"),o=a("32e9"),s=a("84f2"),u=a("2b4c"),c=u("iterator"),d=u("toStringTag"),f=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=i(p),h=0;h<m.length;h++){var g,b=m[h],v=p[b],y=l[b],k=y&&y.prototype;if(k&&(k[c]||o(k,c,f),k[d]||o(k,d,b),s[b]=f,v))for(g in r)k[g]||n(k,g,r[g],!0)}},bca0:function(e,t,a){"use strict";var r=a("8f1f"),i=a.n(r);i.a},be94:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){r(e,t,a[t])})}return e}a.d(t,"a",function(){return i})},d20a:function(e,t,a){}}]);